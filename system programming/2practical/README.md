# Практическая работа №2. Синхронизация потоков в ОС GNU/Linux

Цель работы: изучение программных средств синхронизации потоков в ОС.

Ход работы:

- Ознакомиться с краткими теоретическими сведениями по синхронизации потоков в ОС GNU/Linux.
- Получить у преподавателя индивидуальный вариант задания, в которой для выполнения различных частей создаются и запускаются потоки выполнения, а для синхронизации доступа к требуемым ресурсам используются соответствующие объекты ОС. Студент вправе выполнять инициативный проект, при условии согласования постановки задачи с преподавателем.
- Используя изученные механизмы, разработать и отладить программу, выполняющую заданную работу.
- Составить общее описание результатов, инструкции по сборке и использованию программы, а также инструкцию по получению документации, сформировать архив формата tar.gz и представить на проверку с исходными текстами программы. Внимание: исходные тексты программ должны соответствовать принятому стандарту кодирования, а также содержать комментарии в стиле системы doxygen.

Содержание архива формата tar.gz, который представляется к защите:

- Цель работы с постановкой задачи (в том числе номер варианта задания) и информацией о разработчике (ФИО полностью, номер группы) - файл README, формат Plain Text, ODT или Markdown.
- Исходные тексты программы (с комментариями в стиле системы doxygen); программный код соответствует принятому стандарту.
- Инструкция по сборке программы и документации из командной строки - файл INSTALL, формат Plain Text, ODT или Markdown.
- Инструкция по использованию программы при условии запуска из командной строки - файл USING, формат PDF, ODT, Plain Text или Markdown.
- Конфигурационный файл генератора документации doxygen.

Общая постановка задачи.
Требуется разработать программу в виде Linux-приложения, для выполнения
различных частей которой создаются и запускается потоки управления, а для
синхронизации доступа к требуемым ресурсам используются соответствующие
объекты ОС. Результат выполнения выводится на терминал/консоль.
Программа должна быть устойчивой к некорректному пользовательскому
вводу. Функционирование программы, если это не оговаривается особо, может
быть завершено только путем принудительного снятия процесса с выполнения.
В большинстве вариантов заданий решаются классические задачи
синхронизации. Приостановка выполнения потока на заданный промежуток
времени может выполняться вызовом функции nanosleep().
```buildoutcfg
#include <time.h>
int nanosleep(const struct timespec* req, struct timespec* rem);
```
### Вариант № 5. «Модель писателей/читателей»

Рассмотрим взаимодействие двух
потоков, один из которых пишет данные в буферный пул, а другой считывает
их из пула. Буферный пул состоит из N буферов, каждый содержит одну запись.
В общем случае поток-писатель и поток-читатель имеют разные скорости
(длительности выполнения операция чтения и записи) и обращаются к пулу с
переменной интенсивностью (начинают выполнять операции в случайные
моменты времени с равномерным законом распределения). Для правильной
работы поток-писатель приостанавливается, когда все буферы заняты, и
переходит в активное состояние при наличии хотя бы одного свободного
буфера. Поток-читатель приостанавливается, когда все буферы пусты, и
активизируется, когда появляется, по крайней мере, одна запись.
Количество потоков-писателей и читателей, длительности операций
чтения и записи, размер буферного пула устанавливаются пользователем.
